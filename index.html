<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Clase 4</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />
    </head>
    <body>
      <div class = "container">
        <div div= "row">
          <div div= "col">
            <h1 class="mt-5 mb-4">Sietes por años:</h1>

                    <h2>Total por año</h2>

                    <table class="table table-striped">
               <tr>
                  <td>2010</td><td id="diez"></td>
                  <td></td>
               </tr>

               <tr>
                  <td>2011</td><td id="once"></td>
                  <td></td>
               </tr>

               <tr>
                  <td>2012</td><td id="doce"></td>
                  <td></td>
               </tr>

               <tr>
                  <td>2013</td><td id="trece"></td>
                  <td></td>
               </tr>

               <tr>
                  <td>2014</td><td id="catorce"></td>
                  <td></td>
               </tr>

               <tr>
                  <td>2015</td><td id="quince"></td>
                  <td></td>
               </tr>

               <tr>
                  <td>2016</td><td id="dieciseis"></td>
                  <td></td>
               </tr>

               <tr>
                  <td>2017</td><td id="diecisiete"></td>
                  <td></td>
               </tr>

               <tr>
                  <td>2018</td><td id="dieciocho"></td>
                  <td></td>
               </tr>
               <tr>
                  <td>2019</td><td id="diecinueve"></td>
                  <td></td>
               </tr>

               <tr>
                  <td>2020</td><td id="veinte"></td>
                  <td></td>
               </tr>

               <tr>
                  <td>2021</td><td id="veintiuno"></td>
                  <td></td>
               </tr>

               <tr>
                  <td>2022</td><td id="veintidos"></td>
                  <td></td>
               </tr>
            </table>

            <h2 class="my-5">Total por Profes</h2>
            <table class="table table-striped">
             <tr>
              <td>GONZÁLEZ, A.</td><td id="gonzalez"></td>
            </tr>
            <tr>
              <td>MORENO, P.</td><td id="moreno"> </td>
            </tr>
            <tr>
              <td>HERMANSEN, P.</td><td id="hermansen"> </td>
            </tr>
            <tr>
              <td>ARIAS, R.</td><td id="arias"> </td>
            </tr>
            <tr>
              <td>ALVAREZ, P.</td><td id="alvarez"> </td>
            </tr>
            <tr>
              <td>ALFARO, E.</td><td id="alfaro"> </td>
            </tr>
            <tr>
              <td>UBILLA, M.</td><td id="ubilla"> </td>
            </tr>
            <tr>
              <td>CANCINO, J.</td><td id="cancino"> </td>
            </tr>
            <tr>
              <td>CARO, I.</td><td id="caro"> </td>
            </tr>
            <tr>
              <td>MOLLENHAUER, K.</td><td id="mollenhauer"> </td>
            </tr>



            <address></address>
          </div>
        </div>
      </div>

       
        <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"integrity="sha512-dfX5uYVXzyU8+KHqj8bjo7UkOdg18PaOtpa48djpNbZHwExddghZ+ZmzWT06R5v6NSk3ZUfsH6FNEDepLx9hPQ==" crossorigin="anonymous"
        referrerpolicy="no-referrer" ></script>

        <script>
            const diez = document.querySelector("#diez");
            const once = document.querySelector("#once");
            const doce = document.querySelector("#doce");
            const trece = document.querySelector("#trece");
            const catorce = document.querySelector("#catorce");
            const quince = document.querySelector("#quince");
            const dieciseis = document.querySelector("#dieciseis");
            const diecisiete = document.querySelector("#diecisiete");
            const dieciocho = document.querySelector("#dieciocho");
            const diecinueve = document.querySelector("#diecinueve");
            const veinte = document.querySelector("#veinte");
            const veintiuno = document.querySelector("#veintiuno");
            const veintidos = document.querySelector("#veintidos");

            var datos;

            var profes = [];
            var profesOK = [];
            const olimpo = document.querySelector("address");

            Papa.parse("https://raw.githubusercontent.com/profesorfaco/dno097-2024/main/clase-04/sietes.csv", {
                download: true,
                header: true,
                dynamicTyping: true,
                complete: function (results) {
                    console.log(results);
                    datos = results.data;
                    console.log(datos);
                    datos.forEach(x => {
                      if(x.year == 2009){

                      } else if (x.year == 2010){
                        diez.innerHTML += "♥ ";

                      } else if (x.year == 2011){
                        once.innerHTML += "♥ ";

                      } else if (x.year == 2012){
                        doce.innerHTML += "♥ ";

                      } else if (x.year == 2013){
                        trece.innerHTML += "♥ ";

                      } else if (x.year == 2014){
                        catorce.innerHTML += "♥ ";

                      } else if (x.year == 2015){
                        quince.innerHTML += "♥ ";

                      } else if (x.year == 2016){
                        dieciseis.innerHTML += "♥ ";

                      } else if (x.year == 2017){
                        diecisiete.innerHTML += "♥ ";

                      } else if (x.year == 2018){
                        dieciocho.innerHTML += "♥ ";

                      } else if (x.year == 2019){
                        diecinueve.innerHTML += "♥ ";

                      } else if (x.year == 2020){
                        veinte.innerHTML += "♥ ";

                      } else if (x.year == 2021){
                        veintiuno.innerHTML += "♥ ";
                        
                      } else if (x.year == 2022){
                        veintidos.innerHTML += "♥ ";
                      }

                      let profesor = {"name": x.tutor,"sietes":1};
                      var existe = false;
                      profes.forEach(profeLeido => {
                        if(profeLeido.name == x.tutor){
                          profeLeido.sietes += 1;
                          existe = true;
                        }
                      });
                      if(existe == false){
                        profes.push(profesor);

                      }
                    });

                    
                },
            });

            console.log(profes);

            profesOK = [...new Set(profes)];

            profesOK.sort();
            console.log(profesOK);

            const gonzalez = document.querySelector("#gonzalez");
            const moreno = document.querySelector("#moreno");
            const hermansen = document.querySelector("#hermansen");
            const arias = document.querySelector("#arias");
            const alvarez = document.querySelector("#alvarez");
            const alfaro = document.querySelector("#alfaro");
            const ubilla = document.querySelector("#ubilla");
            const cancino = document.querySelector("#cancino");
            const caro = document.querySelector("#caro");
            const mollenhauer = document.querySelector("#mollenhauer");

            Papa.parse("https://raw.githubusercontent.com/profesorfaco/dno097-2024/main/clase-04/sietes.csv", {
             download: true,
             header: true,
             dynamicTyping: true,
             complete: function(results) {
              console.log(results);
              datos = results.data;
              console.log(datos);
              datos.forEach((x) => {
               if (x.tutor == "GONZÁLEZ, A.") {
                gonzalez.innerHTML += "♥ ";
               } else if (x.tutor == "MORENO, P.") {
                moreno.innerHTML += "♥ ";
               } else if (x.tutor == "HERMANSEN, P.") {
                hermansen.innerHTML += "♥ ";
               } else if (x.tutor == "ARIAS, R.") {
                arias.innerHTML += "♥ ";
               } else if (x.tutor == "ALVAREZ, P.") {
                alvarez.innerHTML += "♥ ";
               } else if (x.tutor == "ALFARO, E.") {
                alfaro.innerHTML += "♥ ";
               } else if (x.tutor == "UBILLA, M.") {
                ubilla.innerHTML += "♥ ";
               } else if (x.tutor == "CANCINO, J.") {
                cancino.innerHTML += "♥ ";
               } else if (x.tutor == "CARO, I.") {
                caro.innerHTML += "♥ ";
               } else if (x.tutor == "MOLLENHAUER, K.") {
                mollenhauer.innerHTML += "♥ ";
              }
          });

      
    },
});

                         
                   

        </script>
    </body>
</html>





  